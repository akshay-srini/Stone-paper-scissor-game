<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rock-paper-scissor</title>
</head>
<body>
    <h1>Rock Paper Scissor</h1>
    <h3>Game</h3>
    <div>
        <button id="rockBtn" onclick="play(0)">Rock</button>
        <button id="paperBtn" onclick="play(1)">Paper</button>
        <button id="scissorBtn" onclick="play(2)">Scissor</button>
    </div>
    <p id="round_result"></p>
    <p>Player Score: </p>
    <p id="player_score"></p>
    <p>CPU Score: </p>
    <p id="cpu_score"></p>
    <p id="final_result"></p>
    <p id="game_over"></p>
    <button id="Retry" style="display: none;">Retry</button>
</body>
<script>
    // const rockBtn = document.querySelector('#rockBtn');
    // const paperBtn = document.querySelector('#paperBtn');
    // const scissorBtn = document.querySelector('#scissorBtn');
    const final_result = document.querySelector('#final_result');
    const round_result = document.querySelector('#round_result');
    const player_score = document.querySelector('#player_score');
    const cpu_score = document.querySelector('#cpu_score');
    const game_over = document.querySelector('#game_over');
    let playerScore = 0, cpuScore = 0;
    function play(input) {
        if((playerScore == 5) || (cpuScore == 5)){
            if(playerScore == 5){
                game_over.textContent = "Game Over";
                return final_result.textContent = "Player Won";
            }
            else if(cpuScore == 5){
                game_over.textContent = "Game Over";
                return final_result.textContent = "CPU Won";
        }
        
    }
        else{
        const Pi = input;
        const Ci = Math.floor(Math.random()*3);
        if(Pi == Ci){
            round_result.textContent = "It's a tie";
            console.log('TIE');
            console.log(playerScore);
            console.log(cpuScore);
            player_score.textContent = playerScore;
            cpu_score.textContent = cpuScore;
        }
        else if((Pi == 0 && Ci == 2) || (Pi == 1 && Ci == 0) || (Pi == 2 && Ci == 1)){
            round_result.textContent = "Player won";
            playerScore += 1;
            console.log('player WON');
            console.log(playerScore);
            console.log(cpuScore);
            player_score.textContent = playerScore;
            cpu_score.textContent = cpuScore;
        }
        else{
            round_result.textContent = "CPU won";
            cpuScore += 1;
            console.log('CPU WON');
            console.log(playerScore);
            console.log(cpuScore);
            player_score.textContent = playerScore;
            cpu_score.textContent = cpuScore;
        }
    }
    }
</script>
</html>